!function(l){function e(e){for(var t,n,a=e[0],i=e[1],r=e[2],o=0,s=[];o<a.length;o++)n=a[o],Object.prototype.hasOwnProperty.call(d,n)&&d[n]&&s.push(d[n][0]),d[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(h&&h(e);s.length;)s.shift()();return u.push.apply(u,r||[]),c()}function c(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,i=1;i<n.length;i++){var r=n[i];0!==d[r]&&(a=!1)}a&&(u.splice(t--,1),e=o(o.s=n[0]))}return e}var n={},d={0:0},u=[];function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=l,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var t=window.webpackJsonp=window.webpackJsonp||[],a=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var h=a;u.push([83,1]),c()}({100:function(e,t,n){var a=n(101);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(56)(a,i);a.locals&&(e.exports=a.locals)},101:function(e,t,n){(e.exports=n(55)(!0)).push([e.i,"*{margin:0;padding:0}:root{--brand--: #f67280;--text-primary--: #494ca2;--text-secondary--: #b2fcff;--text-white--: #ffffff;--bg-primary--: #ecfcff;--bg-secondary--: #3e64ff}.nav,.pagination,.carousel,.panel-title a{cursor:pointer}.dropdown:hover .dropdown-menu{display:block}.error-message{font-size:12px;color:#ff9494}body{background:var(--bg-primary--)}*{color:var(--text-primary--)}.dropdown-menu,.navbar{background:var(--bg-secondary--)}.navbar-default .navbar-nav>li>a,.dropdown-menu>li>a{color:var(--text-secondary--)}.navbar-default .navbar-nav>li>a:hover,.navbar-default .navbar-nav>li>a.active{color:var(--text-white--)}.navbar-default .navbar-brand{color:var(--brand--) !important}.table-list{margin:10px 0;padding:10px;border-radius:12px;background-color:white}.table-list>.table>tbody{display:block;max-height:585px;overflow:auto}.table-list .table thead tr,.table-list .table tbody tr{display:table;width:100%;table-layout:fixed}.table-list tbody tr:nth-child(even){background-color:#f8f6ff}.table-list tbody tr:nth-child(even):hover{background-color:#f5f5f5}.table>thead>tr>th,.table>tbody>tr>th,.table>tfoot>tr>th,.table>thead>tr>td,.table>tbody>tr>td,.table>tfoot>tr>td{padding:12px;vertical-align:top;border-top:0}.game{margin:0 auto;height:80vh;width:80vw;background:var(--brand--)}.start-wrapper{width:inherit;height:inherit;display:flex;justify-content:center;align-items:center}.game-wrapper{width:inherit;height:inherit;padding:18px}.game-hero-type{text-align:center}.game-hero-type .title{padding:10px;border-top-left-radius:10px;border-top-right-radius:10px;background:var(--bg-primary--)}.hero-block{height:72vh;overflow:auto}.game-hero{margin:10px 0;padding:10px;background:var(--bg-primary--);opacity:0.7;cursor:pointer}.game-hero.active{font-weight:bold;background:var(--bg-secondary--);opacity:0.9;border-radius:10px}.game-hero.active span{color:white}.custom-scroll::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.1);background-color:transparent;border-radius:10px}.custom-scroll::-webkit-scrollbar{width:10px;background-color:transparent}.custom-scroll::-webkit-scrollbar-thumb{border-radius:10px;background-color:#fff;background-image:-webkit-gradient(linear, 40% 0%, 75% 84%, from(var(--brand--)), to(var(--brand--)), color-stop(0.6, var(--bg-secondary--)))}\n","",{version:3,sources:["/home/travis/build/b7Rexx/dota-card-game-frontend/src/app/src/app/root.component.scss"],names:[],mappings:"AAAA,EACI,SACA,SAAU,CACb,MAGG,mBACA,0BACA,4BACA,wBACA,wBACA,yBAAiB,CACpB,0CAMG,cAAe,CAClB,+BAGG,aAAc,CACjB,eAGG,eACA,aAAc,CACjB,KAGG,8BAA+B,CAClC,EAGG,2BAA4B,CAC/B,uBAIG,gCAAiC,CACpC,qDAIG,6BAA8B,CACjC,+EAIG,yBAA0B,CAC7B,8BAGG,+BAAgC,CACnC,YAMG,cACA,aACA,mBACA,sBAAuB,CAC1B,yBAGG,cACA,iBACA,aAAc,CACjB,wDAIG,cACA,WACA,kBAAmB,CACtB,qCAGG,wBAAyB,CAC5B,2CAGG,wBAAyB,CAC5B,kHAQG,aACA,mBACA,YAAa,CAChB,MAGG,cACA,YACA,WACA,yBAA0B,CAC7B,eAGG,cACA,eACA,aACA,uBACA,kBAAmB,CACtB,cAGG,cACA,eACA,YAAa,CAChB,gBAGG,iBAAkB,CACrB,uBAGG,aACA,4BACA,6BACA,8BAA+B,CAClC,YAGG,YACA,aAAc,CACjB,WAGG,cACA,aACA,+BACA,YACA,cAAe,CAClB,kBAGG,iBACA,iCACA,YACA,kBAAmB,CACtB,uBAEG,WAAY,CACf,wCAGG,iDACA,6BACA,kBAAmB,CACtB,kCAGG,WACA,4BAA6B,CAChC,wCAGG,mBACA,sBACA,4IAOC,CACJ",file:"root.component.scss",sourcesContent:["* {\n    margin: 0;\n    padding: 0;\n}\n\n:root {\n    --brand--: #f67280;\n    --text-primary--: #494ca2;\n    --text-secondary--: #b2fcff;\n    --text-white--: #ffffff;\n    --bg-primary--: #ecfcff;\n    --bg-secondary--: #3e64ff;\n}\n\n.nav,\n.pagination,\n.carousel,\n.panel-title a {\n    cursor: pointer;\n}\n\n.dropdown:hover .dropdown-menu {\n    display: block;\n}\n\n.error-message {\n    font-size: 12px;\n    color: #ff9494;\n}\n\nbody {\n    background: var(--bg-primary--);\n}\n\n* {\n    color: var(--text-primary--);\n}\n\n.dropdown-menu,\n.navbar {\n    background: var(--bg-secondary--);\n}\n\n.navbar-default .navbar-nav > li > a,\n.dropdown-menu > li > a {\n    color: var(--text-secondary--);\n}\n\n.navbar-default .navbar-nav > li > a:hover,\n.navbar-default .navbar-nav > li > a.active {\n    color: var(--text-white--);\n}\n\n.navbar-default .navbar-brand {\n    color: var(--brand--) !important;\n}\n\n/**\n*table\n*/\n.table-list {\n    margin: 10px 0;\n    padding: 10px;\n    border-radius: 12px;\n    background-color: white;\n}\n\n.table-list > .table > tbody {\n    display: block;\n    max-height: 585px;\n    overflow: auto;\n}\n\n.table-list .table thead tr,\n.table-list .table tbody tr {\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n}\n\n.table-list tbody tr:nth-child(even) {\n    background-color: #f8f6ff;\n}\n\n.table-list tbody tr:nth-child(even):hover {\n    background-color: #f5f5f5;\n}\n\n.table > thead > tr > th,\n.table > tbody > tr > th,\n.table > tfoot > tr > th,\n.table > thead > tr > td,\n.table > tbody > tr > td,\n.table > tfoot > tr > td {\n    padding: 12px;\n    vertical-align: top;\n    border-top: 0;\n}\n\n.game {\n    margin: 0 auto;\n    height: 80vh;\n    width: 80vw;\n    background: var(--brand--);\n}\n\n.start-wrapper {\n    width: inherit;\n    height: inherit;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.game-wrapper {\n    width: inherit;\n    height: inherit;\n    padding: 18px;\n}\n\n.game-hero-type {\n    text-align: center;\n}\n\n.game-hero-type .title {\n    padding: 10px;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    background: var(--bg-primary--);\n}\n\n.hero-block {\n    height: 72vh;\n    overflow: auto;\n}\n\n.game-hero {\n    margin: 10px 0;\n    padding: 10px;\n    background: var(--bg-primary--);\n    opacity: 0.7;\n    cursor: pointer;\n}\n\n.game-hero.active {\n    font-weight: bold;\n    background: var(--bg-secondary--);\n    opacity: 0.9;\n    border-radius: 10px;\n}\n.game-hero.active span {\n    color: white;\n}\n\n.custom-scroll::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);\n    background-color: transparent;\n    border-radius: 10px;\n}\n\n.custom-scroll::-webkit-scrollbar {\n    width: 10px;\n    background-color: transparent;\n}\n\n.custom-scroll::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background-color: #fff;\n    background-image: -webkit-gradient(\n        linear,\n        40% 0%,\n        75% 84%,\n        from(var(--brand--)),\n        to(var(--brand--)),\n        color-stop(0.6, var(--bg-secondary--))\n    );\n}\n"],sourceRoot:""}])},102:function(e,t){e.exports="<navbar-component></navbar-component>\n\n<ui-view></ui-view>"},105:function(e,t){e.exports='<h4><i class="fa fa-user-shield"></i> Heroes</h4>\n<div>\n  <div class="row">\n    <div class="col-sm-6">\n      <button class="btn btn-sm btn-info" ng-click="$ctrl.openAddModal()">\n        <i class="fa fa-plus"></i>\n        Add {{$ctrl.listDefn.title}}\n      </button>\n    </div>\n  </div>\n  \n  <list-component list-defn=\'$ctrl.listDefn\' table-data="$ctrl.tableData"></list-component>\n\n  <modal-component modal-title="$ctrl.modalTitle" modal-content="$ctrl.modalContent" modal-open="$ctrl.modalOpen"\n    modal-action="$ctrl.modalAction" modal-save="$ctrl.modalSave(action,cb)"></modal-component>\n  </div>'},106:function(e,t){e.exports='<h4><i class="fa fa-users"></i> Users</h4>\n<div>\n  <div class="row">\n    <div class="col-sm-6">\n      <button class="btn btn-sm btn-info" ng-click="$ctrl.openAddModal()">\n        <i class="fa fa-plus"></i>\n        Add {{$ctrl.listDefn.title}}\n      </button>\n    </div>\n  </div>\n\n  <list-component list-defn=\'$ctrl.listDefn\' table-data="$ctrl.tableData"></list-component>\n\n<modal-component modal-title="$ctrl.modalTitle" modal-content="$ctrl.modalContent" modal-open="$ctrl.modalOpen"\n    modal-action="$ctrl.modalAction" modal-save="$ctrl.modalSave(action,cb)"></modal-component>\n</div>'},107:function(e,t){e.exports='<div class="row">\n  <div class="col-sm-6"></div>\n  <div class="col-sm-6 form-inline text-right">\n    <div class="form-group search">\n      <input type="search" id="search-input" ng-model="$ctrl.searchQuery" class="form-control d-inline-block "\n        placeholder="Search">\n      <label for="search-input">\n        <i class="fa fa-search"></i>\n      </label>\n    </div>\n  </div>\n</div>\n<div class="row">\n  <div class="col-sm-12">\n    <div class="table-list">\n    <table class="table table-responsive table-hover">\n      <thead>\n\n        <tr>\n          <th ng-repeat="item in $ctrl.listDefn.tableDefn">\n            {{item.thead}}\n          </th>\n        </tr>\n\n      </thead>\n      <tbody>\n\n        <tr ng-repeat="row in $ctrl.tableData | filter:$ctrl.searchQuery">\n          <td ng-repeat="col in $ctrl.listDefn.tableDefn">\n            <button class="btn btn-sm" ng-if="col.type === \'button\'" ng-click="col.action(row)">\n              <i ng-class="col.icon" ng-if=\'col.icon\'></i>{{col.tbody}}\n            </button>\n\n            <span ng-if="col.type === \'string\'">\n              {{col.tbody?(row[col.tbody]||\'\'):\'\'}}\n            </span>\n\n            <span ng-if="col.type === \'status\'">\n              <i class="fa fa-check text-success" ng-if="row[col.tbody]"></i>\n              <i class="fa fa-times text-danger" ng-if="!row[col.tbody]"></i>\n            </span>\n\n            <span ng-if="col.type===\'select\'">\n              {{row[col.tbody] | optionFilter:col.option}}\n            </span>\n\n            <div ng-if="col.type===\'image\'">\n              <img ng-src="{{col.imageFunc(row)}}" alt="img">\n            </div>\n          </td>\n        </tr>\n\n      </tbody>\n    </table>\n    </div>\n  </div>\n</div>'},108:function(e,t){e.exports='\x3c!-- Modal --\x3e\n<div class="modal {{$ctrl.modalState}}">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title">{{$ctrl.modalTitle}}</h5>\n        <button type="button" class="close" ng-click="$ctrl.close()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <div class="form-group" ng-repeat="(index,item) in $ctrl.modalContent" ng-if="item.type !== \'hidden\'">\n          <label> {{item.label}}</label>\n          <input ng-if="item.type===\'text\'" type="text" class="form-control" ng-model="item.value">\n          <input ng-if="item.type===\'email\'" type="email" class="form-control" ng-model="item.value">\n          <input ng-if="item.type===\'password\'" type="password" class="form-control" ng-model="item.value">\n          <input ng-if="item.type===\'file\'" type="file" class="form-control" ng-file-model="item.value">\n\n          <select ng-if="item.type===\'select\'" class="form-control" ng-model="item.value"\n            ng-options="option.value as option.name for option in item.option">\n          </select>\n          <span class="error-message">{{item.error}}</span>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" ng-click="$ctrl.close()">Close</button>\n        <button type="button" class="btn btn-primary" ng-click="$ctrl.save()">\n          <span ng-show="$ctrl.saveState">\n            <i class="fa fa-times text-danger"></i>\n          </span>\n          <span ng-show="$ctrl.loading">\n            <i class="fa fa-spinner"></i>\n          </span>\n          Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>'},126:function(e,t){e.exports='<navbar-component></navbar-component>\n\n<div class="game">\n  <div class="start-wrapper" ng-show="$ctrl.game.start">\n    <button class="btn btn-success" ng-click="$ctrl.start()">Start</button>\n  </div>\n  <div class="game-wrapper" ng-show="!$ctrl.game.start">\n    <div class="row">\n      <div class="col-md-4 game-hero-type" ng-repeat="herotype in $ctrl.game.herotypes">\n        <div class="title">{{herotype.name}}</div>\n        <div class="hero-block custom-scroll">\n          <div class="game-hero" ng-repeat="hero in $ctrl.game.heroes" ng-if="hero.hero_type_id === herotype.value"\n            ng-class="{\'active\':$ctrl.game.selected.includes(hero.id)}" ng-click="$ctrl.select(hero)">\n            <span>{{hero.name}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},127:function(e,t){e.exports="<navbar-component></navbar-component>\n\n<ui-view></ui-view>"},128:function(e,t){e.exports='<nav class="navbar navbar-default" role="navigation">\n  <div class="navbar-header">\n    <button type="button" class="navbar-toggle" ng-click="isNavCollapsed = !isNavCollapsed">\n      <span class="sr-only">Toggle navigation</span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n    </button>\n    <a class="navbar-brand" ui-sref="main" ui-sref-active="active">Home</a>\n  </div>\n  <div class="collapse navbar-collapse" uib-collapse="isNavCollapsed">\n    <ul class="nav navbar-nav" ng-show="$ctrl.auth">\n      <li ng-show="$ctrl.isAdmin"><a ui-sref="users" ui-sref-active="active">User</a></li>\n      <li ng-show="$ctrl.isAdmin"><a ui-sref="heroes" ui-sref-active="active">Hero</a></li>\n      <li ng-show="$ctrl.isAdmin"><a ui-sref="#" ui-sref-active="active">Record</a></li>\n    </ul>\n    <ul class="nav navbar-nav navbar-right" ng-show="!$ctrl.auth">\n      <li><a ui-sref="login" ui-sref-active="active">Login</a></li>\n      <li><a ui-sref="register" ui-sref-active="active">Sign up</a></li>\n    </ul>\n    <ul class="nav navbar-nav navbar-right" ng-show="$ctrl.auth">\n      <li class="dropdown">\n        <a href="#" class="dropdown-toggle">Profile <span class="caret"></span></a>\n        <ul class="dropdown-menu">\n          <li><a ui-sref="admin" ng-if="$ctrl.isAdmin">Dashboard</a></li>\n          <li><a ui-sref="profile" ng-if="!$ctrl.isAdmin">My Profile</a></li>\n          <li role="separator" class="divider"></li>\n          <li><a ng-click="$ctrl.logout()"> <i class="fa fa-sign-out-alt"></i> Logout</a></li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n\n</nav>'},129:function(e,t){e.exports='<br>\n<div class="row">\n  <div class="col-md-4 col-md-offset-4">\n    <div class="login-component">\n      <form ng-submit="$ctrl.submitAction()">\n        <div class="form-group">\n          <label for="login-email"><i class="fa fa-envelope"></i> Email</label>\n          <input type="text" class="form-control" id="login-email" ng-model="$ctrl.email"\n            ng-change="$ctrl.emailChangeHandler()">\n        </div>\n        <div class="form-group">\n          <label for="login-password"><i class="fa fa-key"></i> Password</label>\n          <input type="password" class="form-control" ng-model="$ctrl.password"\n            ng-change="$ctrl.passwordChangeHandler()">\n        </div>\n        <div class="error-message text-center">{{$ctrl.loginError}}</span>\n        <div class="form-group">\n          <input type="submit" class="form-control" ng-model="$ctrl.loginBtn" ng-disabled="$ctrl.requiredInput">\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n'},130:function(e,t){e.exports='<br>\n<div class="row">\n  <div class="col-md-4 col-md-offset-4">\n    <div class="register-component">\n      <form ng-submit="$ctrl.submitAction()">\n        <div class="form-group">\n          <label for="register-name"><i class="fa fa-user"></i> Name</label>\n          <input type="text" class="form-control" id="register-name" ng-model="$ctrl.name"\n            ng-change="$ctrl.nameChangeHandler()">\n        </div>\n        <div class="form-group">\n          <label for="register-email"><i class="fa fa-envelope"></i> Email</label>\n          <input type="text" class="form-control" id="register-email" ng-model="$ctrl.email"\n            ng-change="$ctrl.emailChangeHandler()">\n        </div>\n        <div class="form-group">\n          <label for="register-password"><i class="fa fa-key"></i> Password</label>\n          <input type="password" class="form-control" ng-model="$ctrl.password"\n            ng-change="$ctrl.passwordChangeHandler()">\n        </div>\n        <div class="error-message text-center">{{$ctrl.registerError}}</span>\n          <div class="form-group">\n            <input type="submit" class="form-control" ng-model="$ctrl.registerBtn" ng-disabled="$ctrl.requiredInput">\n          </div>\n      </form>\n    </div>\n  </div>\n</div>'},162:function(e,t,n){"use strict";n.r(t);var a=n(75),i=n.n(a),r=(n(89),n(20)),o=n.n(r),s=n(47),l=n(76),c=n.n(l),d=n(77),u=n.n(d),h=(n(94),n(95),n(98),n(99),n(100),n(4)),p=n.n(h),m={selector:"adminHomeComponent",controller:function e(){p()(this,e)},template:n(102)},v=n(5),f=n.n(v),g={selector:"heroComponent",controller:function(){function s(e,t,n,a,i,r){var o=this;p()(this,s),this.$scope=e,this.heroService=t,this.heroImageService=a,this.swalService=i,this.errMessageService=r,n.getFormattedHeroType().then(function(e){o.heroType=e,o.init()})}return s.$inject=["$scope","heroService","heroTypeService","heroImageService","swalService","errMessageService"],f()(s,[{key:"init",value:function(){this.listDefn={title:"Hero",tableDefn:[{thead:"SN",tbody:"id",type:"string"},{thead:"Name",tbody:"name",type:"string"},{thead:"Image",tbody:"image",type:"image",imageFunc:this.imageFunc.bind(this)},{thead:"Hero Type",tbody:"hero_type_id",type:"select",option:this.heroType},{thead:"Status",tbody:"status",type:"status"},{thead:"Edit",tbody:"edit",icon:"fa fa-edit",type:"button",action:this.cbEdit.bind(this)},{thead:"Delete",tbody:"delete",icon:"fa fa-trash",type:"button",action:this.cbDelete.bind(this)}]},this.$scope.$apply()}},{key:"$onInit",value:function(){this.getHeroData()}},{key:"getHeroData",value:function(){var t=this;this.heroService.getData().then(function(e){t.tableData=e.data.data.model,t.$scope.$apply()}).catch(function(e){})}},{key:"cbEdit",value:function(e){this.openAddModal(e.id,e.name,e.hero_type_id)}},{key:"cbDelete",value:function(t){var n=this;this.swalService.confirmWithSwal().then(function(e){e.value&&n.heroService.remove(t.id).then(function(){n.swalService.alertWithSwal(!0),n.getHeroData()}).catch(function(){n.swalService.alertWithSwal(!1,"Cancelled","Something went wrong!")})})}},{key:"imageFunc",value:function(e){return this.heroImageService.getHeroImageByHeroObject(e,"thumbnail")}},{key:"openAddModal",value:function(e,t,n){var a=0<arguments.length&&void 0!==e?e:null,i=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==n?n:"";this.modalOpen=new Date,this.modalTitle="Add Hero",this.modalAction="add",null!==a&&(this.modalTitle="Edit Hero",this.modalAction="edit"),this.modalContent={id:{name:"id",label:"Id",type:"hidden",value:a,error:""},name:{name:"name",label:"Name",type:"text",value:i,error:""},hero_type_id:{name:"hero_type_id",label:"Hero type",type:"select",option:this.heroType,value:r,error:""},image:{name:"image",label:"Hero Image",type:"file",value:{},error:""}}}},{key:"modalSave",value:function(e,n){var a=this,t=this;switch(e){case"edit":this.heroService.edit(this.modalContent.id.value,this.modalContent.name.value,this.modalContent.hero_type_id.value,this.modalContent.image.value).then(function(){n(!0),t.getHeroData()}).catch(function(e){var t=a.errMessageService.parseError(e.data.error);a.modalContent.hero_type_id.error=t.validations.hero_type_id,a.modalContent.name.error=t.validations.name,n(!1)});break;default:this.heroService.create(this.modalContent.name.value,this.modalContent.hero_type_id.value,this.modalContent.image.value).then(function(){n(!0),t.getHeroData()}).catch(function(e){var t=a.errMessageService.parseError(e.data.error);a.modalContent.hero_type_id.error=t.validations.hero_type_id,a.modalContent.name.error=t.validations.name,n(!1)})}}}]),s}(),template:n(105)},b={selector:"userComponent",controller:function(){function i(e,t,n,a){p()(this,i),this.$scope=t,this.userService=e,this.swalService=n,this.errMessageService=a,this.listDefn={title:"Users",tableDefn:[{thead:"SN",tbody:"id",type:"string"},{thead:"Name",tbody:"name",type:"string"},{thead:"Email",tbody:"email",type:"string"},{thead:"Status",tbody:"status",type:"status"},{thead:"Action",tbody:"edit",icon:"fa fa-edit",type:"button",action:this.cbEdit.bind(this)},{thead:"Delete",tbody:"delete",icon:"fa fa-trash",type:"button",action:this.cbDelete.bind(this)}]}}return i.$inject=["userService","$scope","swalService","errMessageService"],f()(i,[{key:"$onInit",value:function(){this.getUserData()}},{key:"getUserData",value:function(){var n=this;this.userService.getData().then(function(e){n.tableData=e.data.data.model,n.$scope.$apply()}).catch(function(e){var t=n.errMessageService.parseError(e.data.error);n.modalContent.hero_type_id.error=t.validations.hero_type_id,n.modalContent.name.error=t.validations.name})}},{key:"cbEdit",value:function(e){this.openAddModal(e.id,e.name,e.email)}},{key:"cbDelete",value:function(t){var n=this;this.swalService.confirmWithSwal().then(function(e){e.value&&n.userService.remove(t.id).then(function(){n.swalService.alertWithSwal(!0),n.getUserData()}).catch(function(){n.swalService.alertWithSwal(!1,"Cancelled","Something went wrong!")})})}},{key:"openAddModal",value:function(e,t,n,a){var i=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t?t:"",o=2<arguments.length&&void 0!==n?n:"",s=3<arguments.length&&void 0!==a?a:"";this.modalOpen=new Date,this.modalTitle="Add User",this.modalAction="add",this.modalContent={id:{name:"id",label:"Id",type:"hidden",value:i,error:""},name:{name:"name",label:"Name",type:"text",value:r,error:""},email:{name:"email",label:"Email",type:"email",value:o,error:""}},null!==i?(this.modalTitle="Edit User",this.modalAction="edit"):this.modalContent.password={name:"password",label:"Password",type:"password",value:s,error:""}}},{key:"modalSave",value:function(e,n){var a=this,t=this;switch(e){case"edit":this.userService.edit(this.modalContent.id.value,this.modalContent.name.value,this.modalContent.email.value).then(function(){n(!0),t.getUserData()}).catch(function(e){var t=a.errMessageService.parseError(e.data.error);a.modalContent.name.error=t.validations.name,a.modalContent.email.error=t.validations.email,n(!1)});break;default:this.userService.create(this.modalContent.name.value,this.modalContent.email.value,this.modalContent.password.value).then(function(){n(!0),t.getUserData()}).catch(function(e){var t=a.errMessageService.parseError(e.data.error);a.modalContent.name.error=t.validations.name,a.modalContent.email.error=t.validations.email,a.modalContent.password.error=t.validations.password,n(!1)})}}}]),i}(),template:n(106)},A={selector:"listComponent",controller:function e(){p()(this,e),this.listDefn={title:"list title",tableDefn:[{thead:"SN",tbody:"id",type:"string",action:null},{thead:"Name",tbody:"name",type:"string",action:null}]}},template:n(107),bindings:{listDefn:"<",tableData:"<"}},y={selector:"modalComponent",controller:function(){function t(e){p()(this,t);this.$scope=e}return t.$inject=["$scope"],f()(t,[{key:"$onInit",value:function(){this.modalState="fade",this.loading=!1}},{key:"$onChanges",value:function(){this.open()}},{key:"open",value:function(){this.modalState="show",this.loading=!1,this.saveState=!1}},{key:"close",value:function(){this.modalState="fade"}},{key:"save",value:function(){var t=this;t.loading=!0,this.modalSave({action:this.modalAction,cb:function(e){t.loading=!1,e?(t.modalState="fade",t.$scope.$apply()):(t.saveState=!0,t.$scope.$apply(),setTimeout(function(){t.saveState=!1,t.$scope.$apply()},2e3))}})}}]),t}(),template:n(108),bindings:{modalTitle:"=",modalContent:"=",modalSave:"&",modalOpen:"<",modalAction:"<"}},w=n(32),C=n.n(w),k={selector:"mainComponent",controller:function(){function a(e,t,n){p()(this,a),this.$scope=e,this.heroTypeService=n,this.heroService=t,this.game={start:!1,herotypes:[],heroes:[],selected:[]},this.getHeroes(),this.getHeroTypes()}return a.$inject=["$scope","heroService","heroTypeService"],f()(a,[{key:"start",value:function(){this.game.start=!0}},{key:"select",value:function(e){this.game.selected.includes(e.id)?this.game.selected.splice(this.game.selected.indexOf(e.id),1):this.game.selected=[].concat(C()(this.game.selected),[e.id])}},{key:"getHeroes",value:function(){var t=this;this.heroService.getData().then(function(e){t.game.heroes=C()(e.data.data.model),t.$scope.$apply()}).catch(function(e){})}},{key:"getHeroTypes",value:function(){var t=this;this.heroTypeService.getFormattedHeroType().then(function(e){t.game.herotypes=C()(e),t.$scope.$apply()}).catch(function(e){})}}]),a}(),template:n(126)},S={selector:"homeComponent",controller:function e(){p()(this,e)},template:n(127)},$={selector:"navbarComponent",controller:function(){function a(e,t,n){p()(this,a),this.$state=t,this.$scope=n,this.authService=e,this.auth=e.isAuthenticated(),this.isAdmin=e.isAdminAuthenticated()}return a.$inject=["authService","$state","$scope"],f()(a,[{key:"logout",value:function(){this.authService.destroyAuth(),this.$state.transitionTo("login")}}]),a}(),template:n(128)},x={selector:"loginComponent",controller:function(){function o(e,t,n,a,i,r){p()(this,o),this.$scope=e,this.$state=t,this.apiService=n,this.authService=a,this.errMessageService=r,this.API_URL=i}return o.$inject=["$scope","$state","apiService","authService","API_URL","errMessageService"],f()(o,[{key:"$onInit",value:function(){this.email="",this.password="",this.loginBtn="Login",this.requiredInput=!0}},{key:"emailChangeHandler",value:function(){this.submitValidation()}},{key:"passwordChangeHandler",value:function(){this.submitValidation()}},{key:"submitValidation",value:function(){this.email&&this.password?this.requiredInput=!1:this.requiredInput=!0}},{key:"submitAction",value:function(){var n=this;this.requiredInput=!0,this.loginBtn="Processing",this.apiService.request("POST",this.API_URL+"/auth/login",{email:this.email,password:this.password}).then(function(e){n.email="",n.password="",n.submitValidation(),n.authService.setAuth(e.data.token,e.data.expire_at,e.data.user,e.data.isAdmin),e.data.isAdmin?n.$state.go("admin"):n.$state.go("home")}).catch(function(e){n.submitValidation();var t=n.errMessageService.parseError(e.data.error);n.loginError="Login failed | "+t.message,n.loginBtn="Login",n.$scope.$apply()})}}]),o}(),template:n(129)},B={selector:"registerComponent",controller:function(){function r(e,t,n,a,i){p()(this,r),this.$scope=e,this.$state=t,this.apiService=n,this.errMessageService=i,this.API_URL=a}return r.$inject=["$scope","$state","apiService","API_URL","errMessageService"],f()(r,[{key:"$onInit",value:function(){this.name="",this.email="",this.password="",this.registerBtn="Register",this.requiredInput=!0}},{key:"nameChangeHandler",value:function(){this.submitValidation()}},{key:"emailChangeHandler",value:function(){this.submitValidation()}},{key:"passwordChangeHandler",value:function(){this.submitValidation()}},{key:"submitValidation",value:function(){this.name&&this.email&&this.password?this.requiredInput=!1:this.requiredInput=!0}},{key:"submitAction",value:function(){var n=this;this.requiredInput=!0,this.registerBtn="Processing",this.apiService.request("POST",this.API_URL+"/users",{name:this.name,email:this.email,password:this.password}).then(function(e){n.name="",n.email="",n.password="",n.submitValidation(),n.$state.go("login")}).catch(function(e){n.submitValidation();var t=n.errMessageService.parseError(e.data.error);n.registerError="Register failed | "+t.message,n.registerBtn="Register",n.$scope.$apply()})}}]),r}(),template:n(130)},I={selector:"heroService",service:function(){function n(e,t){p()(this,n),this.API_URL=t,this.apiService=e}return n.$inject=["apiService","API_URL"],f()(n,[{key:"getData",value:function(){return this.apiService.request("GET",this.API_URL+"/heroes/paginate?pagesize=100")}},{key:"create",value:function(e,t,n){return this.apiService.requestWithToken("POST",this.API_URL+"/heroes",{name:e,hero_type_id:t,image:n.data||null})}},{key:"edit",value:function(e,t,n,a){return this.apiService.requestWithToken("PUT",this.API_URL+"/heroes/"+e,{name:t,hero_type_id:n,image:a.data||null})}},{key:"remove",value:function(e){return this.apiService.requestWithToken("DELETE",this.API_URL+"/heroes/"+e)}}]),n}()},_=n(78),U=n.n(_),P={selector:"heroTypeService",service:function(){function n(e,t){p()(this,n),this.API_URL=t,this.apiService=e}return n.$inject=["apiService","API_URL"],f()(n,[{key:"getData",value:function(){return this.apiService.request("GET",this.API_URL+"/herotypes")}},{key:"getFormattedHeroType",value:function(){return this.getData().then(function(e){return U()(e.data.data.model).map(function(e){return{name:e.name,value:e.id}})})}}]),n}()},T={selector:"heroImageService",service:function(){function n(e,t){p()(this,n),this.PUBLIC_URL=t,this.apiService=e}return n.$inject=["apiService","PUBLIC_URL"],f()(n,[{key:"getHeroImageByHeroObject",value:function(e,t){var n=[];if(e.hasOwnProperty("relateHeroImages")&&(n=e.relateHeroImages),0<n.length){var a=n[0],i=!1;switch(t){case"thumbnail":i=a.thumbnail;break;case"original":i=a.original;break;default:i=a.image}return i?"".concat(this.PUBLIC_URL,"/files/").concat(t,"/").concat(i):"".concat(this.PUBLIC_URL,"/files/no_image.png")}return"".concat(this.PUBLIC_URL,"/files/no_image.png")}}]),n}()},D={selector:"userService",service:function(){function n(e,t){p()(this,n),this.API_URL=t,this.apiService=e}return n.$inject=["apiService","API_URL"],f()(n,[{key:"getData",value:function(){return this.apiService.requestWithToken("GET",this.API_URL+"/users")}},{key:"create",value:function(e,t,n){return this.apiService.request("POST",this.API_URL+"/users",{name:e,email:t,password:n})}},{key:"edit",value:function(e,t,n){return this.apiService.requestWithToken("PUT",this.API_URL+"/users/"+e,{name:t,email:n})}},{key:"remove",value:function(e){return this.apiService.requestWithToken("DELETE",this.API_URL+"/users/"+e)}}]),n}()},G=n(31),E=n.n(G),L=n(79),H=n.n(L),R=n(48),M=n.n(R),j=n(49),q=n.n(j),O=n(50),W=n.n(O),N=n(80),V=n.n(N),Y=n(81),F=n.n(Y),J=n(82),z=n.n(J);function Q(t,e){var n=V()(t);if(W.a){var a=W()(t);e&&(a=a.filter(function(e){return q()(t,e).enumerable})),n.push.apply(n,a)}return n}var K={selector:"apiService",service:function(){function n(e,t){p()(this,n),this.$http=e,this.authService=t}return n.$inject=["$http","authService"],f()(n,[{key:"request",value:function(e,t,n){var a=2<arguments.length&&void 0!==n?n:{};return this.httpByMethod(e,t,!1,a)}},{key:"requestWithToken",value:function(e,t,n){var a=2<arguments.length&&void 0!==n?n:{};return this.httpByMethod(e,t,!0,a)}},{key:"httpByMethod",value:function(e,t,n,a){var i=this,r=2<arguments.length&&void 0!==n&&n,o={method:e,url:t,headers:{"Content-Type":"application/json"},data:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach(function(e){z()(t,e,n[e])}):M.a?H()(t,M()(n)):Q(Object(n)).forEach(function(e){E()(t,e,q()(n,e))})}return t}({},3<arguments.length&&void 0!==a?a:{})};return r&&(o.headers.Token=this.authService.getToken()),new F.a(function(t,n){i.$http(o).then(function(e){t(e)},function(e){n(e)})})}}]),n}()},X=n(51),Z=n.n(X),ee={selector:"authService",service:function(){function e(){p()(this,e),this.authToken=localStorage.getItem("authToken"),this.authExpire=localStorage.getItem("authExpire"),this.authUser=JSON.parse(this.isJson(localStorage.getItem("authUser"))),this.authIsAdmin=localStorage.getItem("authIsAdmin")}return f()(e,[{key:"isAuthenticated",value:function(){return!!(this.authToken&&new Date<=new Date(this.authExpire))}},{key:"isAdminAuthenticated",value:function(){return!!(0!=this.authIsAdmin&&this.authToken&&new Date<=new Date(this.authExpire))}},{key:"setAuth",value:function(e,t,n,a){this.authToken=e,this.authExpire=t,this.authUser=n,this.authIsAdmin=a,localStorage.setItem("authToken",e),localStorage.setItem("authExpire",t),localStorage.setItem("authUser",Z()(n)),localStorage.setItem("authIsAdmin",a)}},{key:"getToken",value:function(){return this.authToken}},{key:"destroyAuth",value:function(){this.authToken=null,this.authExpire=null,this.authUser=null,this.authIsAdmin=null,localStorage.setItem("authToken",null),localStorage.setItem("authExpire",null),localStorage.setItem("authUser",null),localStorage.setItem("authIsAdmin",null)}},{key:"isJson",value:function(e){var t=e||Z()({});return!!/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))&&t}}]),e}()},te={selector:"swalService",service:function(){function t(e){p()(this,t),this.Swal=e}return t.$inject=["Swal"],f()(t,[{key:"confirmWithSwal",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this.Swal.fire({title:"Are you sure?",text:t||"You will not be able to recover this data set!",icon:"warning",showCancelButton:!0})}},{key:"alertWithSwal",value:function(e,t,n){var a=!(0<arguments.length&&void 0!==e)||e,i=1<arguments.length&&void 0!==t?t:null,r=2<arguments.length&&void 0!==n?n:null;return this.Swal.fire(i||"Success!",r||"Your data set has been deleted.",a?"success":"error")}}]),t}()},ne=n(46),ae=n.n(ne),ie={selector:"errMessageService",service:function(){function e(){p()(this,e)}return f()(e,[{key:"parseError",value:function(e){return{code:e.code,message:e.message,validations:this.parseValidationError(e.details)}}},{key:"parseValidationError",value:function(e){var t={};return ae()(e)&&e.forEach(function(e){t[e.param]=e.message}),t}}]),e}()},re={selector:"optionFilter",filter:function(){return function(t,e){var n=e.filter(function(e){return e.value==t});return n.hasOwnProperty(0)&&n[0].name||"No name"}}},oe={};window&&i()(oe,window.__env),o.a.module("root",[s.a,c.a,"ng-file-model"]).constant("API_URL",oe.API_URL).constant("PUBLIC_URL",oe.PUBLIC_URL).constant("Swal",u.a).run(["$state","$transitions","authService","$timeout",function(t,e,n,a){e.onStart({},function(e){switch(e.to().authenticate){case"redirectIfAuth":n.isAuthenticated()&&a(function(){t.go("home")});break;case"requireAuth":n.isAuthenticated()?!0===e.to().isAdmin&&(n.isAdminAuthenticated()||a(function(){t.go("home")})):a(function(){t.go("login")})}})}]).component(m.selector,m).component(g.selector,g).component(b.selector,b).component(A.selector,A).component(y.selector,y).component(k.selector,k).component(S.selector,S).component($.selector,$).component(x.selector,x).component(B.selector,B).service(I.selector,I.service).service(P.selector,P.service).service(T.selector,T.service).service(D.selector,D.service).service(K.selector,K.service).service(ee.selector,ee.service).service(te.selector,te.service).service(ie.selector,ie.service).filter(re.selector,re.filter).config(["$stateProvider","$locationProvider","$urlRouterProvider",function(e,t,n){e.state("admin",{authenticate:"requireAuth",isAdmin:!0,name:"admin",url:"/admin",component:m.selector}).state("heroes",{authenticate:"requireAuth",isAdmin:!0,name:"admin.heroes",url:"/heroes",component:g.selector,parent:"admin"}).state("users",{authenticate:"requireAuth",isAdmin:!0,name:"admin.users",url:"/users",component:b.selector,parent:"admin"}).state("main",{authenticate:!1,isAdmin:!1,name:"main",url:"/main",component:k.selector}).state("login",{authenticate:"redirectIfAuth",name:"main.login",url:"/login",component:x.selector,parent:"main"}).state("register",{authenticate:"redirectIfAuth",name:"main.register",url:"/register",component:B.selector,parent:"main"}).state("home",{authenticate:"requireAuth",isAdmin:!1,name:"home",url:"/home",component:S.selector}),t.hashPrefix(""),t.html5Mode(!0),n.otherwise("main")}])},83:function(e,t,n){e.exports=n(162)},89:function(e,t){window.__env=window.__env||{},window.__env.API_URL="http://localhost:3000/api",window.__env.PUBLIC_URL="http://localhost:3000/public"}});
//# sourceMappingURL=app.bundle-66900ef77f55bf03271f-0.map